##### Disclaimer
В коммитах используются обозначения:

- \[WIP] - Work In Progress;
- \[+] - Новая feature или класс;
- \[-] - Удаление чего-то ненужного;
- \[R] - Refactor;
- \[F] - Fix.

## Требования

gradle версии не ниже 4.4

## Описание

Приложение состоит из трёх модулей:
- BooleanGroupWebService для передачи параметров;
- BooleanGroupGenerator для генерации матриц с нулями и единицами;
- BooleanGroupCounter обработка матриц и запись результата в файл.

Общение между модулями осуществляется через топики Kafka.

Приложение генерирует случайно заполненную нулями и единицами матрицу (двумерный массив), затем считает группы единиц, "соединённых" по четырём направлениям (по вертикали и горизонтали) и выводит матрицу и полученное количество групп в файл.

Мультимодульность в gradle сделана для возможности запуска каждого модуля как отдельного приложения.

### Запуск:

Для создания wrapper'a запустить
```
gradle wrapper
```

после этого станут доступны команды запуска:
```
gradlew BooleanGroupWebService:bootRun
```
для запуска Web-сервиса;

```
gradlew BooleanGroupGenerator:bootRun
```
для запуска сервиса генерации матрицы;

```
gradlew BooleanGroupCounter:bootRun
```
для запуска сервиса подсчёта групп и записи файла.

### Описание модулей
#### Web-сервис (муодуль BooleanGroupWebService)
Web-сервис принимает на вход по GET-запросу данные для матрицы - ширина (параметр `width`) и высота (параметр `height`). У отрицательных значений будет взято их абсолютное значение.

Пример запроса:

 `http://<server-name>:<server-port>/booleanGroup?width=3&height=5`

В ответ на запрос будет дан ответ с HTTP-кодом 200 и именем файла.

Настройка производится в `application.properties`

Ключ:

`matrix.group.producer.topic` - указывает, в какой топик слать сообщение.

#### Сервис генерации матрицы (модуль BooleanGroupGenerator)
Сервис генерации матрицы получает из Kafka объект с параметрами для генерации, генерирует матрицу и передаёт в следующий топик.

Настройка производится в `application.properties`

Ключи:

`matrix.group.consumer.topic` - указывает, какой топик слушать.

`matrix.group.producer.topic` - указывает, в какой топик слать сообщение.

#### Сервис подсчёта групп и генерации файла (модуль BooleanGroupCounter)
Сервис подсчёта групп и генерации файла получает из Kafka объект с заполненной матрицей, запускает алгоритм подсчёта, создаёт файл в нужной директории.

Настройка производится в `application.properties`

Ключи:

`matrix.group.producer.topic` - указывает, в какой топик слать сообщение.

`matrix.group.directory.to.write` - указывает, в какую директорию писать итоговый файл.
